<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dwarf Idle</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        .resource {
            margin: 10px;
            font-size: 1.2em;
        }
        .button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Dwarf Idle</h1>

    <div id="resources">
        <div class="resource">Ore: <span id="ore">0</span></div>
        <div class="resource">Refined Materials: <span id="refined">0</span></div>
        <div class="resource">Crafted Items: <span id="crafted">0</span></div>
    </div>

    <button class="button" id="mineButton">Mine Ore</button>
    <button class="button" id="refineButton">Refine Ore</button>
    <button class="button" id="craftButton">Craft Item</button>
	<button class="button" id="saveButton">Save Game</button>
	<button class="button" id="loadButton">Load Game</button>


    <script>
		// Function to save the game state
		function saveGame() {
			const gameState = {
				ore: ore,
				refined: refined,
				crafted: crafted,
			};
			localStorage.setItem('dwarfIdleSave', JSON.stringify(gameState));
			alert('Game saved!');
		}

		// Function to load the game state
		function loadGame() {
			const savedState = localStorage.getItem('dwarfIdleSave');
			if (savedState) {
				const gameState = JSON.parse(savedState);
				ore = gameState.ore || 0;
				refined = gameState.refined || 0;
				crafted = gameState.crafted || 0;

				// Update the UI
				oreDisplay.textContent = ore;
				refinedDisplay.textContent = refined;
				craftedDisplay.textContent = crafted;

				alert('Game loaded!');
			} else {
				alert('No saved game found.');
			}
		}

        // Resource counts
        let ore = 0;
        let refined = 0;
        let crafted = 0;

        // Buttons
        const mineButton = document.getElementById('mineButton');
        const refineButton = document.getElementById('refineButton');
        const craftButton = document.getElementById('craftButton');
		
		// Save button logic
		const saveButton = document.getElementById('saveButton');
		saveButton.addEventListener('click', () => {
			const gameState = {
				ore: ore,
				refined: refined,
				crafted: crafted,
			};
			localStorage.setItem('dwarfIdleSave', JSON.stringify(gameState));
			alert('Game saved!');
		});

		// Load button logic
		const loadButton = document.getElementById('loadButton');
		loadButton.addEventListener('click', () => {
			const savedState = localStorage.getItem('dwarfIdleSave');
			if (savedState) {
				const gameState = JSON.parse(savedState);
				ore = gameState.ore || 0;
				refined = gameState.refined || 0;
				crafted = gameState.crafted || 0;

				// Update the UI
				oreDisplay.textContent = ore;
				refinedDisplay.textContent = refined;
				craftedDisplay.textContent = crafted;

				alert('Game loaded!');
			} else {
				alert('No saved game found.');
			}
		});


        // Resource displays
        const oreDisplay = document.getElementById('ore');
        const refinedDisplay = document.getElementById('refined');
        const craftedDisplay = document.getElementById('crafted');

        // Mining logic
        mineButton.addEventListener('click', () => {
            ore += 1;
            oreDisplay.textContent = ore;
        });

        // Refining logic
        refineButton.addEventListener('click', () => {
            if (ore >= 2) { // Requires 2 ore to refine
                ore -= 2;
                refined += 1;
                oreDisplay.textContent = ore;
                refinedDisplay.textContent = refined;
            } else {
                alert('Not enough ore to refine!');
            }
        });

        // Crafting logic
        craftButton.addEventListener('click', () => {
            if (refined >= 3) { // Requires 3 refined materials to craft
                refined -= 3;
                crafted += 1;
                refinedDisplay.textContent = refined;
                craftedDisplay.textContent = crafted;
            } else {
                alert('Not enough refined materials to craft!');
            }
        });
		
		// Auto-load the game state
		loadButton.click(); // Simulate a click on the load button
    </script>
</body>
</html>
